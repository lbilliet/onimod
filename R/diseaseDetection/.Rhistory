.libPaths()
?install.packages
?Startup
setwd(dirname(file.choose()))
library(stringr)
source("0.chargement.R")
source("usefulFunctions.R")
load("indicationFoundbyDrugURI.rdata")
boxplot(indicationFoundbyDrugURI$position)
boxplot(indicationFoundbyDrugURI$sumTF)
fivenum(indicationFoundbyDrugURI$position)
fivenum(indicationFoundbyDrugURI$sumTF)
signal <- subset (indicationFoundbyDrugURI, position > 5)
## add the label :
colnames(signal)
signal <- merge (signal, romedi, by.x = "drugURI", by.y="uri")
signal <- signal[order(signal$position),]
##
drugsCount30 <- subset (drugsCount, frequency>30)
bool <- signal$drugURI %in% drugsCount30$uri
sum(bool)
signal2 <- subset(signal, bool)
###### see to associated disease :
######## pick a label :
#test rch ATU / RTU
AtuRtu <- read.csv2("data/ATU_RTU.csv",header = T,encoding = "UTF-8") #si besoin de load, mais normalement dans source "0.chargement.R"
# => Theralene est indique dans les épisodes d'insomnies !
# => Theralene est indique dans les épisodes d'insomnies !
getPostsMedoc <- function(medoc, numCode = 1){
results <- getURIbyLabel(medoc,romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
# drugURI
diseaseByDrug$candidateTerm[1:14]
code <- diseaseByDrug$code[numCode] ## 4 => numero du terme
code
i <- 1
posts <- NULL
while (is.null(posts) & i < (length(drugURIs) + 1)){
# print(paste("Valeur de i (pour drugURI):",i, sep = " "))
drugURI <- drugURIs[i]
posts <- getDrugAndDisease(drugURI, code,host = host,
port = port,index = index,type = type)
i <- i + 1
}
print(diseaseByDrug$candidateTerm[1:10])
bool_ATU<-unique(str_detect(as.character(unlist(AtuRtu)), fixed(paste("\"",medoc,"\""), ignore_case = TRUE )))
print(paste("ATU/RTU ?", bool_ATU, sep=" "))
posts$sentence
}
getPostsMedoc("oromone", numCode = 1)
getPostsMedoc("oromone", numCode = 7)
getPostsMedoc("oromone", numCode = 9)
getPostsMedoc("saccharomyces cerevisiae", numCode = 1)
getPostsMedoc("progestan", numCode = 1)
getPostsMedoc("estima", numCode = 1)
getPostsMedoc("ephedrine", numCode = 1)
getPostsMedoc("theralene", numCode = 1)
getPostsMedoc("theralene", numCode = 2)
getPostsMedoc("orelox", numCode = 2)
getPostsMedoc("orelox", numCode = 1)
getPostsMedoc("orelox", numCode = 6)
getPostsMedoc("histamine", numCode = 1)
getPostsMedoc("mifepristone", numCode = 1)
getPostsMedoc("mifepristone", numCode = 2)
getPostsMedoc("cortancyl", numCode = 1)
getPostsMedoc("toco", numCode = 1)
getPostsMedoc("toco", numCode = 5)
getPostsMedoc("toco", numCode = 7)
getPostsMedoc("tavanic", numCode = 7)
getPostsMedoc("tavanic", numCode = 1)
getPostsMedoc("tavanic", numCode = 2)
getPostsMedoc("mifegyne", numCode = )
getPostsMedoc("mifegyne", numCode =  )
getPostsMedoc("fluvermal", numCode =  )
getPostsMedoc("fluvermal", numCode =  )
getPostsMedoc("fluvermal", numCode = 1 )
getPostsMedoc("fluvermal", numCode = 2 )
getPostsMedoc("fluvermal", numCode = 8 )
getPostsMedoc("antadys", numCode = 1 )
### all the terms of a code :
voir <- subset(diseaseDetectedDistinct, code == "M70")
voir[1:20,]
### all the terms of a code :
voir <- subset(diseaseDetectedDistinct, code == "M701")
voir[1:20,]
getPostsMedoc("tractocile", numCode = 1 )
getPostsMedoc("methergin", numCode = 1 )
getPostsMedoc("aspegic", numCode = 1 )
getPostsMedoc("arsenic", numCode = 1 )
getPostsMedoc("arsenic", numCode = 2 )
getPostsMedoc("arsenic", numCode = 3 )
getPostsMedoc("arsenic", numCode = 4 )
getPostsMedoc("arsenic", numCode = 5 )
getPostsMedoc("aspirine", numCode = 1 )
getPostsMedoc("xeplion", numCode = 1 )
getPostsMedoc("vogalib", numCode = 1 )
getPostsMedoc("vogalib", numCode = 2 )
getPostsMedoc("vogalib", numCode = 3 )
getPostsMedoc("betaselen", numCode = 1 )
getPostsMedoc("spasmine", numCode = 1 )
getPostsMedoc("chronadalate", numCode = 1 )
getPostsMedoc("importal", numCode = 1 )
getPostsMedoc("polygynax", numCode = 1 )
getPostsMedoc("prevenar", numCode = 1 )
getPostsMedoc("celestene", numCode = 1 )
getPostsMedoc("clonazepam", numCode = 1 )
