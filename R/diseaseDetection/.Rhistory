.libPaths()
?install.packages
?Startup
source("CleanWd.R")
wd()
setwd("loubill/Domino/R/DiseaseDetection")
source("0.chargement.R")
rm(list=ls())
source("0.chargement.R")
source("usefulFunctions.R")
load("indicationFoundbyDrugURI.rdata")
boxplot(indicationFoundbyDrugURI$position)
boxplot(indicationFoundbyDrugURI$sumTF)
fivenum(indicationFoundbyDrugURI$position)
fivenum(indicationFoundbyDrugURI$sumTF)
signal <- subset (indicationFoundbyDrugURI, position > 5)
## add the label :
colnames(signal)
signal <- merge (signal, romedi, by.x = "drugURI", by.y="uri")
signal <- signal[order(signal$position),]
##
drugsCount30 <- subset (drugsCount, frequency>30)
bool <- signal$drugURI %in% drugsCount30$uri
sum(bool)
signal2 <- subset(signal, bool)
###### see to associated disease :
diseasesByDrug <- NULL ## retirer
######## pick a label :
# => Theralene est indique dans les Ã©pisodes d'insomnies !
results <- getURIbyLabel("arnica",romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
diseaseByDrug$candidateTerm[1:10]
code <- diseaseByDrug$code[5] ## 4 => numero du terme
code
i <- 1
posts <- NULL
while (is.null(posts) & i < (length(drugURIs) + 1)){
print(i)
drugURI <- drugURIs[i]
posts <- getDrugAndDisease(drugURI, code,host = host,
port = port,index = index,type = type)
i <- i + 1
}
posts$sentence[1:10]
# install.packages("xlsx")
xlsx::write.xlsx(signal2,file="signal2.xlsx", sheetName = "signal2")
install.packages("xlsx")
xlsx::write.xlsx(signal2,file="signal2.xlsx", sheetName = "signal2")
View(signal2)
######## pick a label :
# => Theralene est indique dans les Ã©pisodes d'insomnies !
results <- getURIbyLabel("magnesium",romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
diseaseByDrug$candidateTerm[1:10]
######## pick a label :
# => Theralene est indique dans les Ã©pisodes d'insomnies !
results <- getURIbyLabel("magnesium",romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
diseaseByDrug$candidateTerm[1:10]
diseaseByDrug$candidateTerm[1:20]
diseaseByDrug$candidateTerm[1:15]
diseaseByDrug$candidateTerm[1:14]
results <- getURIbyLabel("magnesium",romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
# drugURI
diseaseByDrug$candidateTerm[1:14]
code <- diseaseByDrug$code[1] ## 4 => numero du terme
code
i <- 1
posts <- NULL
while (is.null(posts) & i < (length(drugURIs) + 1)){
print(i)
drugURI <- drugURIs[i]
posts <- getDrugAndDisease(drugURI, code,host = host,
port = port,index = index,type = type)
i <- i + 1
}
posts$sentence[1:10]
######## pick a label :
# => Theralene est indique dans les Ã©pisodes d'insomnies !
results <- getURIbyLabel("provames",romedi)
diseaseByDrug <- results$diseaseByDrug
drugURIs <- results$drugURI
diseaseByDrug$candidateTerm[1:14]
code <- diseaseByDrug$code[1] ## 4 => numero du terme
code
i <- 1
posts <- NULL
while (is.null(posts) & i < (length(drugURIs) + 1)){
print(i)
drugURI <- drugURIs[i]
posts <- getDrugAndDisease(drugURI, code,host = host,
port = port,index = index,type = type)
i <- i + 1
}
posts$sentence[1:10]
